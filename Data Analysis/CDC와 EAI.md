## CDC (Change Data Capture)

### CDC란?
- 데이터베이스 내 데이터의 변경을 식별, 후속처리를 자동화하는 기술.
- 이때 후속처리란, 데이터 전송 또는 공유를 말한다.

### CDC 구현 기법
1. __Time Stamp on Rows__
- 타임스탬프 칼럼을 이용해 식별

2. __Version Numbers on Row__
- 버전을 기록하는 칼럼을 이용해 식별
- 일반적으로 레코드들의 최신 버전을 기록, 관리하는 '참조 테이블'과 함께 운영한다.

3. __Status on Rows__
- 타임 스탬프 및 버전 넘버 기법에 대한 보완 용도로 활용
- 데이터 변경 여부를 boolean 값으로 저장하는 칼럼의 status 값을 기반으로 변경 여부를 판단한다.
- 레코드에 대한 변경 여부 판단을 사람이 직접 결정할 수 있도록 유보할 수 있다.

4. __Time/Version/Status on Rows__
- 세 가지 특성을 모두 활용하는 기법
- 정교한 쿼리 생성에 활용해 개발에 유연성을 제공

5. __Triggers on Tables__
- 데이터베이스 트리거를 호라용해 사전에 subscribe된 다수의 target 시스템에 변경 데이터를 publish(배포)하는 형태로 CDC를 구현
- 데이터베이스 트리거는 시스템 관리 복잡도 증가, 변경 관리의 어려움, 확장성의 감소 등 전반적인 시스템 유지보수성을 저하시키므로 사용에 주의가 필요하다.

6. __Event Programming__
- 데이터 변경 식별 기능을 애플리케이션에 구현
- 애플리케이션 개발 부담과 복잡도가 증가하나, 다양한 조건에 의한 CDC를 구현할 수 있다.

7. __Log Scanner on Database__
- 트랜잭션 로그에 대한 스캐닝 및 변경 내역에 대한 해석을 통해 CDC 구현
- DBMS에 따라 로그 관리 매커니즘이 달라 다수의 DB를 사용하는 환경에 적용 시 작업 규모가 증가할 수 있다.
- 장점 : 데이터베이스와 사용 애플리케이션에 대한 영향도 최소화, 변경 식별 지연시간 최소화, 트랜잭션 무결성에 대한 영향도 최소화, 데이터베이스 스키마 변경 불필요

### CDC 구현 방식
- __Push__ : source에서 변경 식별 후 target 시스템에 변경 데이터 적재
- __Pull__ : target에서 source를 정기적으로 관찰, 필요 시 데이터를 다운로드 하는 방식

<br>

## EAI (Enterprise Application Integration)

### EAI란?
- 비즈니스 프로세스를 중심으로 기업 내 각종 애플리케이션 간의 상호연동이 가능하도록 통합하는 솔루션
- 기업 내 또는 기업간 상호 이질적 정보 시스템들의 데이터를 연계하여 동기화하도록 만드는 것
- 여러 형태로 산재되어 있는 애플리케이션을 프로세스 및 메시지 차원에서 통합 및 관리한다.
- EAI를 통해 비즈니스 프로세스를 자동화하고 실시간으로 통합 연계할 수 있다.
- ETL은 `배치 프로세스 중심`, EAI는 `실시간` 혹은 `근접 실시간 처리 중심`이다.

### 1. 데이터 연계 방식
- 기존의 데이터 연계 방식은 `Point-to-point`로, 복잡하고 유지보수성이 낮으며 관리 비용이 높았다.
- 반면, EAI는 `Hub and Spoke` 방식으로 다수의 정보 시스템 데이터를 중앙의 Hub가 연계하고 통합한다.

### 2. EAI 구성요소
1. 어댑터 : 각 정보 시스템과 허브간의 연결성 확보
2. 버스 : 데이터 연동 경로
3. 브로커 : 데이터 연동 규칙 통제
4. 트랜스포머 : 데이터 형식 변환

### 3. EAI 구현 유형
1. __Mediation__
- EAI 엔진이 중개자로 동작, 이벤트 발생을 식별 후 미리 약속된 정보 시스템에 전달한다.
- Publish/subscribe model

2. __Federation__
- EAI 엔진이 외부 정보 시스템으로부터 데이터 요청들을 일괄 수집 후, 필요한 데이터를 전달한다.
- Request/reply model

### 4. EAI 활용 효과
1. 정보 시스템 개발 및 유지 보수비용 절감
2. 기업 정보 시스템의 지속적 발전 기반 확보
3. 협력사와의 상호 협력 프로레스 연계
4. 웹 서비스 등 인터넷 비즈니스를 위한 기본 토대 확립
5. 지역적으로 분리되어 있는 정보 시스템들 간의 데이터 동기화, 데이터 표준화 기반 제공

### 5. EAI vs ESB
|구분|EAI|ESB(Enterprise Service Bus)|
|---|---|---|
|기능|hub를 이용하여 비즈니스 로직 중심으로 application 통합 연계|bus를 이용하여 서비스 중심으로 시스템을 유기적 연결|
|통합관점|application|service|
|로직연동|개별 application에서 수행|ESB에서 수행|
|아키텍처|허브시스템을 이용한 중앙집중식|버스 형태의 느슨하고 유연|


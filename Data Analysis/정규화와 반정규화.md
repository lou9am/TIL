# 1과목 데이터 모델링과 SQL
(유선배 SQL 개발자, SQL 자격검정 실전문제 문제집을 바탕으로 정리)  
<br>

## 성능 데이터 모델링
- 데이터베이스의 성능을 향상시키기 위해 설계 단계부터 성능과 관련된 사항들이 모델링에 반영될 수 있도록 하는 것

## 정규화(Normalization)
- 데이터 정합성을 위해 엔터티를 작은 단위로 분리하는 과정.
- 정규화를 할 경우 데이터 `조회성능`은 처리조건에 따라 향상되는 경우도 있고 저하되는 경우도 있지만 `입력, 수정, 삭제 성능`은 일반적으로 향상된다.
- 데이터의 무결성을 보장하기 위해 정규화를 수행한다.

### 제1정규형
- 모든 속성은 반드시 하나의 값만 가진다.
- 유사한 속성이 반복되는 경우 1차 정규화의 대상이 된다.

### 제2정규형
- 엔터티의 모든 일반속성은 반드시 모든 주식별자에 종속되어야 한다.
- 주식별자가 복합식별자인 경우 일반속성이 주식별자의 일부에만 종속될 수 있다. 이 경우 제2정규형의 대상이 된다.

### 제3정규형
- 주식별자가 아닌 모든 속성 간에는 서로 종속될 수 없다.
- 일반속성이 다른 일반속성에 종속되었을 경우 제3정규형의 대상이 된다.
- 3차 정규화는 이행함수 종속성을 제거한다.

<br>

## 반정규화(De-Normalization)
- 데이터의 조회 성능을 향상시키기 위해 `데이터의 중복을 허용`하거나 `데이터를 그룹핑`하는 과정.
- `조회 성능은 향상`될 수 있으나 `입력, 수정, 삭제 성능은 저하`될 수 있다.
- `데이터 정합성 이슈`가 발생할 수 있다.
- 반정규화는 정규화가 끝난 후 거치게 된다.

### 1. 테이블 반정규화
#### 테이블 병합 : 업무 프로세스상 JOIN이 필요한 경우가 많아 테이블을 통합하는 것이 성능 측면에서 유리한 경우 고려. 1:M 테이블 병합의 경우 1쪽에 해당하는 엔터티의 속성 개수가 많으면 병합 시 중복 데이터가 많아지므로 테이블 병합에 적절하지 못하다.
- 1:1 관계 테이블 병합
- 1:M 관계 테이블 병합

#### 테이블 분할
- 테이블 수직 분할 : 엔터티의 일부 속성을 별도의 엔터티로 분할 (1:1 관계가 2개 생김) 자주 사용하는 속성이 아니거나 대부분의 인스턴스가 해당 속성값을 NULL로 갖고 있을 때 고려
- 테이블 수평 분할 : 인스턴스를 특정 기준으로 별도의 엔터티로 분할(파티셔닝)

#### 테이블 추가
- 중복 테이블 추가 : 데이터의 중복을 감안하더라도 성능상 반드시 필요하다고 판단되는 경우 별도의 엔터티 추가
- 통계 테이블 추가 : 통계치를 미리 계산하여 저장
- 이력 테이블 추가 : 이력 테이블에서 과거에 대한 데이터 관리
- 부분 테이블 추가 : 하나의 테이블의 전체 칼럼 중 자주 이용하는 집중화된 칼럼들이 있을 때 디스크 I/O를 줄이기 위해 부분 테이블 추가로 해당 칼럼들을 별도로 모은다.

### 2. 컬럼 반정규화
- 중복 컬럼 추가
- 파생 컬럼 추가
- 이력 테이블 컬럼 추가

### 3. 관계 반정규화(중복관계 추가)
- 데이터 무결성을 깨뜨릴 위험성 없이 데이터 처리 성능을 향상시킬 수 있는 기법.

<br>

## 트랜잭션(Transaction)
- 데이터를 조작하기 위한 하나의 논리적인 작업 단위
- 트랜잭션은 1개의 커밋 단위로 묶여야 한다.

# 1장 테스트 개요

## 테스트 목적
1. 결함의 검출과 제품 품질 개선
2. 품질 평가와 의사 결정 지원
3. 개발 프로세스 개선 지원

## 오류, 결함, 장애
1. `장애(Failure)` : 프로그램의 실행 결과와 요구사항에 명시된 결과에 차이가 있음
2. `결함(Defect)` : 소프트웨어 내에 장애를 유발할 수 있는 문제.
- 결함 때문에 장애가 발생하지만 결함이 있다고 해서 반드시 장애가 발생하는 것은 아니다.
3. `오류(Error)` : 결함이 생기게 한 개발자의 행위

## 결함 유형
1. `누락(Omission)` : 요구 명세에 명시된 요구사항이 시스템의 구현에 반영되지 않은 결함
2. `부정확한(Incorrect) 구현` : 요구 명세에 명시된 요구사항이 소프트웨어에 부정확하게 반영된 결함
3. `비관련(Extraneous)` : 요구 명세와 관련되지 않은 구현

## 테스트, 디버깅, 재테스팅

### 1. 테스팅
- 소프트웨어의 **실제 동작과 요구사항의 차이를 확인**한다.
- 특히 동적 테스트는 결함의 존재 여부를 알 수 없는 상황에서 결함의 발견을 목적으로 프로그램을 실행한다.
- 테스팅은 어떤 환경에서 어떤 입력값을 사용했을 때 예상되는 결과와 실제 출력 결과 등을 기록하지만 이 결함이 어떤 모듈에서 발생하였고 이를 해결하기 위해 어떻게 수정해야 하는지에 대하여 관여하지 않는다.

### 2. 디버깅
- 테스팅을 통하여 결함의 존재를 확인한 후에 수행된다.
- __결함의 위치를 파악__ 하고, 이를 __제거__ 하는 것을 목적으로 한다.

### 3. 재테스팅
- 코드를 수정하고 난 뒤 실제로 결함이 제거되었는지 확인하기 위해 초기에 결함을 검출한 테스트 케이스를 이용하여 다시 테스팅을 한다.

<br>

## 완벽한 테스트의 비현실성
- 테스트를 통하여 결함을 검출하려면 많은 수의 테스트 케이스가 필요하다. 그러나 현실적으로 모든 경우의 수를 조합하여 테스트를 하는 것은 불가능하다. 그렇기 때문에 __"프로그램 테스트는 결함이 있음을 보일 수는 있지만, 결함이 없음을 보일 수는 없다."__
- 따라서 주어진 인력과 시간을 바탕으로 최대한 효과적이고 효율적인 테스트를 수행할 수 있어야 한다.
- 동적 테스트에는 이러한 테스트의 한계를 충분히 고려하여 테스트 케이스를 설계하는 '동등 분할', '경곗값 분석', '조합 테스트'등의 방법이 존재한다.
- 위험 기반 테스트 방법을 적용하면 한정된 비용과 일정 내에서 테스트의 효과를 최대화할 수 있다.

(참고로, 테스트 케이스는 입력과 대응되는 예상 결과를 묶어서 하나의 테스트 케이스로 취급한다.)

## 테스트의 진화 과정

### 1. 레벨1 (Debugging-oriented)
- 테스트와 디버깅에 뚜렷한 차이가 없는 레벨
- 결함을 찾기 위한 별도의 노력을 기울이지 않는다.

### 2. 레벨2 (Demonstration-oriented)
- 프로그램이 올바르게 동작한다는 사실을 입증하기 위해 테스트를 수행
- 결함을 찾을 확률이 높은 테스트 케이스를 설계하기보다는 시스템의 정상 작동을 증명하는 데 초점이 맞춰진 테스트 케이스를 설계하는 경향이 있다.

### 3. 레벨3 (Destruction-oriented)
- 프로그램에 결함이 존재함을 보여주기 위해 테스트를 수행
- 결함을 발견하는 테스트 케이스가 그렇지 못한 테스트 케이스보다 훨씬 더 가치 있다.

### 4. 레벨4 (Evaluation-oriented)
- 레벨 3가 실제 프로그램 코드에 있는 결함을 발견하는 것에 초점을 맞춘다면, 레벨 4는 **소프트웨어 개발 전 단계에서 발생하는 결함을 발견**하는 개념으로 확장한다.
- 코딩이 완료된 후에 테스트를 시작하는 것이 아니라 개발 초기 단계부터 지속적으로 리뷰를 통해 시스템을 평가한다.

### 5. 레벨5 (Prevention-oriented)
- 사후에 결함을 발견하는 것이 아니라 사전에 방지하는 것
- 테스트가 용이하도록 시스템을 설계해야 한다.
- 이를 위한 가장 효과적인 방법은 TDD처럼 테스트 케이스를 미리 설계하는 것이다.

<br>

## 테스트 원칙
1. 테스트는 반드시 프로그램을 개발한 프로그래머나 팀과는 무관한 그룹이 수행해야 한다.

2. 결함이 발견되지 않으리라는 가정하에 테스트 계획을 수립해서는 안 된다.

3. 타당한 경우뿐만 아니라 타당하지 않고 예상하지 못한 경우에 대해서도 테스트를 수행하라.

4. 프로그램의 어떤 부분에 결함이 남아있을 확률은 그 부분에서 이미 발견된 결함의 수에 비례한다.
* __파레토(Pareto)의 원칙__ : "프로그램 결함의 80%는 20%의 모듈에서 발생한다."

5. 테스트 케이스를 체계적으로 관리하라.
- 프로그램 수정으로 인하여 기존의 기능이 영향을 받았는지 테스트할 경우, 테스트 케이스를 재사용하여 테스트하는 것이 바람직하다.

6. 각각의 테스트 결과를 철저하게 점검하라.


## 테스트와 품질 평가
ISO 25010에서는 품질의 유형을 8개의 주특성으로 정의한다.
- `기능 적합성, 성능 효율성, 호환성, 사용성, 신뢰성, 보안성, 유지보수성, 이식성`
- 요구사항 명세는 대표적으로 1) 기능 요구사항과 2) 품질 요구사항을 포함한다.

### 기능 테스트와 비기능 테스트
- 기능 테스트 : 기능 요구사항에 초점을 둔 테스트
- 비기능 테스트 : 품질 요구사항에 초점을 둔 테스트, `유형 테스트`라고도 한다.

## 품질 보증, V&V, 테스트
1. `품질보증` : 셋 중 가장 포괄적인 개념.
2. `V&V` : Verification & Validation (검증과 확인)의 약어.
- `검증`은 소프트웨어 개발 과정에서 수행한 __활동의 적합성__ 검사 에 초점을 둔다.
- `확인`은 __결과물의 적합성__ 에 초점을 둔다.
3. `테스트` : V&V안에 포함되는 개념으로 동적 테스팅과 정적 테스팅으로 나뉜다.


## 테스트 설계 기법
정적 테스트와 동적 테스트가 있다.

### 1. 정적 테스트
- 테스트 대상을 실행하지 않고 테스트를 수행
- `리뷰`와 `정적 분석`이 있다.
1) 리뷰 : 각 개발 단계별로 해당 단계의 `산출물`이 목표에 부합하는지 점검. 산출물을 실행하지 않고 검사한다.
2) 정적 분석 : `소스 코드를 대상`으로 결함을 판단할 수 있는 특정한 패턴이 소스 코드에 있는지 분석

### 정적 테스트의 특징
- 테스트 대상을 실행하지 않기 때문에 테스트 대상에 대한 실행 환경이 필요하지 않다.
- 소스 코드가 작성되기 이전 단계에서 산출물에 대한 테스트를 수행할 수 있다.
- 자동화 도구를 활용함으로써 테스트를 자동으로 수행할 수 있다.
- 결함이 아닌 문제를 결함으로 보고하는 False Positive 단점이 있다.

### 2. 동적 테스트
- 소프트웨어를 실행하는 방식으로 테스트를 수행하여 결함을 검출
- `명세 기반 방법`, `구조 기반 방법`, `경험 기반 방법`이 있다.
1) 명세 기반 방법 : 프로그램의 내부 논리 구조를 참조하지 않고 테스트 케이스를 개발. 적용 대상에 제한이 없어 전 과정에 걸쳐 사용이 가능하다.
2) 구조 기반 방법 : 프로그램의 제어 흐름이나 자료 흐름 정보를 이용하여 테스트 케이스를 설계. `구조적 테스트`, `화이트박스 테스트`, `글래스 박스 테스트`라고도 한다.
3) 경험 기반 방법 : 테스트 케이스 설계를 바탕으로 테스트를 수행하지 않고 테스터의 경험, 기존 테스트 결과, 테스터의 직관을 활용하여 테스트를 수행. `오류 추정`과 `탐색적 테스트` 방법이 있다.

### 동적 테스트의 특징
- 실행 가능한 소프트웨어가 필요하며 **소스 코드는 사용되지 않는다.**
- 소스코드가 없는 경우에도 수행할 수 있다.
- 소프트웨어를 실행시키기 위한 환경이 요구된다.
- 소프트웨어 품질 요구사항도 동적 테스트를 통해 확인이 가능하다.

### 용어
1. `테스트 대상` : 결함을 검출하려는 대상 소프트웨어
2. `레벨 테스트` : 테스트 대상에 따라 수행되는 컴포넌트(단위) 테스트, 통합 테스트, 시스템 테스트, 인수 테스트를 통칭
3. `피처(Feature)` : 테스트하고자 하는 측면, 관점
4. `테스트 스크립트` : 테스트 절차를 문서로 기록하는 대신에 자동화 도구가 해석하고 실행하는 언어로 작성한 것
5. `테스트 드라이버` : 완성된 모듈이나 컴포넌트를 임시로 호출(Top-Down)
6. `테스트 스텁` : 테스트 중인 모듈이 의존하는 소프트웨어 구성 요소의 동작을 시뮬레이션하는 프로그램
